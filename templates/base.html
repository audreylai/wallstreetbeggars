<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %} | WSB </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='tailwind/output.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    {% block header %}{% endblock %}
    <script src="{{ url_for('static', filename='theme.js') }}"></script>
    <script>
      tailwind.config = {
        darkMode: 'media'
      }
    </script>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{url_for('static', filename='scrollbar.css')}}"
    />
    <script>
      let vh = window.innerHeight * 0.01;
      console.log(vh);
      document.documentElement.style.setProperty("--vh", `${vh}px`);
      window.addEventListener("resize", () => {
        // We execute the same script as before
        let vh = window.innerHeight * 0.01;
        console.log(vh);
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      });

      var elem = document.querySelector("#hoe");
      console.log(
        window.getComputedStyle(elem, null).getPropertyValue("height")
      );
      Chart.plugins.register({
        afterDatasetsDraw: function(chart) {
            if (chart.tooltip._active && chart.tooltip._active.length) {
              var activePoint = chart.tooltip._active[0],
                  ctx = chart.ctx,
                  y_axis = chart.scales['y-axis-0'],
                  x = activePoint.tooltipPosition().x,
                  topY = y_axis.top,
                  bottomY = y_axis.bottom;
              // draw line
              ctx.save();
              ctx.beginPath();
              ctx.moveTo(x, topY);
              ctx.lineTo(x, bottomY);
              ctx.lineWidth = 2;
              ctx.strokeStyle = '#07C';
              ctx.stroke();
              ctx.restore();
            }
        }
    });
    
    </script>
    <style>
      .h-screen {
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
      }
    </style>
    {% block head %} {% endblock %}
  </head>
  <body>
    <div class="flex flex-col-reverse h-screen lg:flex-row">
      <div
        id="sidebar"
        class="flex flex-row items-center justify-center h-16 px-4 bg-white border-t border-r dark:bg-zinc-900 lg:flex-col lg:w-16 xl:w-64 lg:h-screen lg:p-4 shrink-0 lg:border-t-0 lg:px-0 dark:border-zinc-800"
      >
        <div class="items-center hidden space-x-2 lg:flex">
          <img
            src="https://media-exp1.licdn.com/dms/image/C4D03AQEgVaStUAjN1w/profile-displayphoto-shrink_200_200/0/1516623558070?e=1660176000&v=beta&t=xr19Gixqmdfg8QxzOop_9aZNgCWnnKPOcx4EFcHKfrs"
            alt="pfp"
            class="w-8 rounded-full"
          />
          <p class="hidden text-lg font-semibold text-gray-800 xl:flex dark:text-white">Jackei</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="hidden w-4 text-gray-500 xl:flex"
            viewBox="0 0 512 512"
          >
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="48"
              d="M112 184l144 144 144-144"
            />
          </svg>
        </div>
        <div class="flex flex-row items-center justify-center w-full h-full lg:flex-col lg:w-auto">
          <a href="/"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-house-door lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Home</p>
          </a>
          <a href="/stock-analytics"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-pie-chart lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Analytics</p>
          </a>
          <a href="/stock-list"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-bar-chart-line lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Stock List</p>
          </a>
          <a href="/stock-info"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-file-earmark-text lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Stock Info</p>
          </a>
          <a href="/rules"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-pencil-square lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Rules</p>
          </a>
          
        </div>
        <div>
          <a
            class="flex items-center w-full h-12 px-10"
          >
            <button id="theme-toggle" type="button" class="w-12 h-12 text-gray-700 dark:text-zinc-300 hover:bg-gray-100 dark:hover:bg-zinc-800 dark:hover:text-zinc-100 hover:text-gray-900 xl:rounded-lg text-sm p-2.5">
              <i id="dark-icon" class="bi bi-sun"></i>
              <i id="light-icon" class="bi bi-moon-stars"></i>
            </button>
          </a>
          <a href="/"  class="flex items-center w-full h-12 px-4 text-gray-700 rounded-lg dark:text-zinc-300 lg:rounded-none xl:rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-zinc-100">
            <i class="text-xl bi bi-gear lg:mr-2"></i>
            <p class="hidden text-xs font-bold xl:flex">Settings</p>
          </a>
        </div>
      </div>
      {% block content %}{% endblock %}
    </div>
  </body>
  {% block script %}{% endblock %}
</html>
